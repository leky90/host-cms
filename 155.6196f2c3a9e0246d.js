(self.webpackChunkcms=self.webpackChunkcms||[]).push([[155,162],{3356:(e,r,t)=>{t.d(r,{T5:()=>n,Wu:()=>s,vL:()=>u});var n="https://api-cms.ldktech.com",u={AUTH_INDEX:"/",AUTH_SIGN_UP:"/sign-up",OVERVIEW_INDEX:"/dashboard",DASHBOARD_PROFILE:"/dashboard/profile",SYSTEM_INDEX:"/dashboard/system",CRM_INDEX:"/dashboard/crm",ECOM_INDEX:"/dashboard/ecommerce",NOT_FOUND:"*"},s={INDEX:"/*",DASHBOARD:"/dashboard/*",PROFILE:"profile",MODULE_AUTH:"auth/*",MODULE_SYSTEM:"system/*",NOT_FOUND:"*"}},1162:(e,r,t)=>{t.r(r),t.d(r,{axiosInstance:()=>i,queryClient:()=>a,useGetProfileQuery:()=>l,useGetUsersQuery:()=>h,useSignInMutation:()=>c});var n=t(8911),u=t(3356),s=t(2318),o=t(8430),a=new s.QueryClient({defaultOptions:{queries:{retry:0}}}),i=o.Z.create({baseURL:u.T5,timeout:1e3});function c(){return{signInMutation:(0,s.useMutation)({mutationFn:function(e){return i.post(u.T5+"/v1/auth/sign-in",e)}})}}function p(){return p=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},p.apply(this,arguments)}function l(e){return(0,s.useQuery)(p({},e,{queryKey:["profile"],queryFn:function(){return i.get(u.T5+"/v1/auth/profile")}}))}function f(){return f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},f.apply(this,arguments)}function h(e,r){return void 0===e&&(e={page:1,limit:10}),(0,s.useQuery)(f({},r,{queryKey:["users",e.page,e.limit],queryFn:function(){return i.get(u.T5+"/v1/users",{params:e})}}))}i.interceptors.request.use((function(e){var r;return e.headers.Authorization="Bearer "+(null==(r=n.useAuthStore.getState().auth)?void 0:r.accessToken),e}),(function(e){return console.log("request error",e),Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){var r;return 401===(null==(r=e.response)?void 0:r.status)&&n.useAuthStore.setState({auth:void 0}),Promise.reject(e)}))}}]);